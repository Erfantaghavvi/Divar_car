# ๐ค ุฑุงูููุง ุณุณุชู ุงุฏฺฏุฑ ูุงุดู ุจุฑุง ููุชโฺฏุฐุงุฑ ุฎูุฏุฑู

## ๐ ููุฑุณุช ูุทุงูุจ
- [ูุนุฑู](#ูุนุฑู)
- [ูุตุจ ู ุฑุงูโุงูุฏุงุฒ](#ูุตุจ-ู-ุฑุงูโุงูุฏุงุฒ)
- [ูุญูู ุงุณุชูุงุฏู](#ูุญูู-ุงุณุชูุงุฏู)
- [ูฺฺฏโูุง](#ูฺฺฏโูุง)
- [ุขููุฒุด ูุฏู](#ุขููุฒุด-ูุฏู)
- [ุงุฏฺฏุฑ ุงุฒ ุจุงุฒุฎูุฑุฏ](#ุงุฏฺฏุฑ-ุงุฒ-ุจุงุฒุฎูุฑุฏ)
- [ูุซุงูโูุง ุนูู](#ูุซุงูโูุง-ุนูู)

## ๐ฏ ูุนุฑู

ุณุณุชู ุงุฏฺฏุฑ ูุงุดู ุจุฑุง ููุชโฺฏุฐุงุฑ ุฎูุฏุฑู ฺฉ ุณุณุชู ููุดููุฏ ุงุณุช ฺฉู:

- **ุงุฒ ุฏุงุฏูโูุง ฺฏุฐุดุชู ุงุฏ ูโฺฏุฑุฏ** ๐
- **ูพุดโุจูโูุง ุฏููโุชุฑ ุงุฑุงุฆู ูโุฏูุฏ** ๐ฏ
- **ุฎูุฏุด ุฑุง ุจูุจูุฏ ูโุฏูุฏ** ๐
- **ุงุฒ ุจุงุฒุฎูุฑุฏ ฺฉุงุฑุจุฑุงู ุงุณุชูุงุฏู ูโฺฉูุฏ** ๐ฅ

## ๐๏ธ ูุตุจ ู ุฑุงูโุงูุฏุงุฒ

### 1. ูุตุจ ฺฉุชุงุจุฎุงููโูุง ููุฑุฏ ูุงุฒ:
```bash
pip install scikit-learn joblib numpy pandas
```

### 2. ุจุฑุฑุณ ูุตุจ:
```python
from car_price_calculator import CarPriceCalculator

# ุงุฌุงุฏ calculator ุจุง ML ูุนุงู
calculator = CarPriceCalculator(enable_ml=True)

# ุจุฑุฑุณ ูุถุนุช ML
ml_info = calculator.get_ml_info()
print(ml_info)
```

## ๐ ูุญูู ุงุณุชูุงุฏู

### ุงุณุชูุงุฏู ูพุงู:
```python
from car_price_calculator import CarPriceCalculator

# ุงุฌุงุฏ calculator ุจุง ML
calculator = CarPriceCalculator(enable_ml=True)

# ุฏุงุฏูโูุง ุฎูุฏุฑู
car_data = {
    'year': 1395,
    'mileage': 150000,
    'brand': 'ูพุฑุงุฏ',
    'engine_status': 'ุณุงูู',
    'chassis_status': 'ุณุงูู',
    'body_status': 'ุณุงูู ู ุจโุฎุท ู ุฎุด',
    'issues': 'ูฺ'
}

# ูพุดโุจู ููุช ุจุง ML
market_price = 390000000
total_depreciation = 0.25

estimated_price = calculator.calculate_estimated_price(
    market_price, 
    total_depreciation, 
    car_data  # ุฏุงุฏูโูุง ุงุถุงู ุจุฑุง ML
)

print(f"ููุช ุชุฎูู: {estimated_price:,.0f} ุชููุงู")
```

## โจ ูฺฺฏโูุง

### ๐ง ููุด ูุตููุน ูพุดุฑูุชู:
- **Random Forest Regressor** ุจุฑุง ูพุดโุจู ุฏูู
- **Feature Engineering** ููุดููุฏ
- **Ensemble Learning** (ุชุฑฺฉุจ ML + ุฑูุด ูพุงู)

### ๐ ูฺฺฏโูุง ุงุณุชุฎุฑุงุฌ ุดุฏู:
- ุณุงู ุชููุฏ
- ฺฉูููุชุฑ
- ููุช ุจุงุฒุงุฑ
- ูุถุนุช ููุชูุฑุ ุดุงุณุ ุจุฏูู
- ููุน ู ุดุฏุช ูุดฺฉูุงุช
- ุชุนุฏุงุฏ ฺฉู ูุดฺฉูุงุช

### ๐ฏ ูพุดโุจู ุชุฑฺฉุจ:
```
ููุช ููุง = (70% ร ูพุดโุจู ML) + (30% ร ุฑูุด ูพุงู)
```

## ๐ ุขููุฒุด ูุฏู

### ุขููุฒุด ุฎูุฏฺฉุงุฑ:
```python
# ุขููุฒุด ุจุง ูุงู ููุฌูุฏ
success = calculator.train_ml_model("unified_car_price_analysis.xlsx")

if success:
    print("โ ูุฏู ุขููุฒุด ุฏุงุฏู ุดุฏ")
else:
    print("โ ุขููุฒุด ูุงูููู")
```

### ุขููุฒุด ุฏุณุช:
```python
# ุฏุณุชุฑุณ ูุณุชูู ุจู ML calculator
ml_calc = calculator.ml_calculator

if ml_calc:
    success = ml_calc.train_model("data.xlsx")
    print(f"ุขููุฒุด: {'ูููู' if success else 'ูุงูููู'}")
```

### ููุงุด ุนููฺฉุฑุฏ:
```python
ml_info = calculator.get_ml_info()

if 'last_performance' in ml_info:
    perf = ml_info['last_performance']
    print(f"MAE: {perf['mae']:,.0f} ุชููุงู")
    print(f"Rยฒ: {perf['r2']:.3f}")
    print(f"ูููููโูุง ุขููุฒุด: {perf['training_samples']}")
```

## ๐ ุงุฏฺฏุฑ ุงุฒ ุจุงุฒุฎูุฑุฏ

### ุซุจุช ุจุงุฒุฎูุฑุฏ:
```python
# ุฏุงุฏูโูุง ุฎูุฏุฑู
car_data = {
    'year': 1395,
    'mileage': 150000,
    'brand': 'ูพุฑุงุฏ'
}

# ููุชโูุง
predicted_price = 250000000  # ูพุดโุจู ุณุณุชู
actual_price = 240000000     # ููุช ูุงูุน (ุงุฒ ฺฉุงุฑุจุฑ)

# ุซุจุช ุจุงุฒุฎูุฑุฏ
success = calculator.learn_from_feedback(
    car_data, 
    actual_price, 
    predicted_price
)

print(f"ุจุงุฒุฎูุฑุฏ: {'ุซุจุช ุดุฏ' if success else 'ุฎุทุง'}")
```

### ุขููุฒุด ูุฌุฏุฏ ุฎูุฏฺฉุงุฑ:
ุณุณุชู ูุฑ 50 ุจุงุฒุฎูุฑุฏุ ุฎูุฏุด ุฑุง ุฏูุจุงุฑู ุขููุฒุด ูโุฏูุฏ:

```python
# ุจุนุฏ ุงุฒ 50 ุจุงุฒุฎูุฑุฏ:
# ๐ ุดุฑูุน ุขููุฒุด ูุฌุฏุฏ ูุฏู ุจุง ุฏุงุฏูโูุง ุฌุฏุฏ...
# โ ูุฏู ุจุง 50 ููููู ุจุงุฒุฎูุฑุฏ ุขููุฒุด ุฏุงุฏู ุดุฏ
```

## ๐ก ูุซุงูโูุง ุนูู

### ูุซุงู 1: ูพุดโุจู ุณุงุฏู
```python
from car_price_calculator import CarPriceCalculator

calculator = CarPriceCalculator(enable_ml=True)

# ุฎูุฏุฑู ุชุณุช
car = {
    'year': 1392,
    'mileage': 200000,
    'brand': 'ุณููุฏ',
    'engine_status': 'ุชุนูุฑ ุดุฏู',
    'body_status': 'ุฎุท ู ุฎุด ุฌุฒ',
    'issues': 'engine_overhaul, minor_scratches'
}

# ูพุดโุจู
price = calculator.calculate_estimated_price(
    780000000,  # ููุช ุจุงุฒุงุฑ
    0.45,       # ุฏุฑุตุฏ ุงูุช
    car         # ุฏุงุฏูโูุง ML
)

print(f"ููุช ุชุฎูู: {price:,.0f} ุชููุงู")
```

### ูุซุงู 2: ุขููุฒุด ู ุชุณุช
```python
# ุขููุฒุด ูุฏู
training_success = calculator.train_ml_model()

if training_success:
    # ุชุณุช ุจุง ฺูุฏ ููููู
    test_cases = [
        {'year': 1395, 'brand': 'ูพุฑุงุฏ', 'mileage': 120000},
        {'year': 1390, 'brand': 'ูพฺู', 'mileage': 180000},
        {'year': 1392, 'brand': 'ุณููุฏ', 'mileage': 200000}
    ]
    
    for i, case in enumerate(test_cases, 1):
        price = calculator.calculate_estimated_price(
            500000000, 0.3, case
        )
        print(f"ุชุณุช {i}: {price:,.0f} ุชููุงู")
```

### ูุซุงู 3: ุงุฏฺฏุฑ ุชุฏุฑุฌ
```python
# ุดุจูโุณุงุฒ ูุฑุขูุฏ ุงุฏฺฏุฑ
feedbacks = [
    {'car': {'year': 1395, 'brand': 'ูพุฑุงุฏ'}, 'predicted': 250000000, 'actual': 240000000},
    {'car': {'year': 1390, 'brand': 'ูพฺู'}, 'predicted': 450000000, 'actual': 470000000},
    {'car': {'year': 1392, 'brand': 'ุณููุฏ'}, 'predicted': 350000000, 'actual': 330000000}
]

for feedback in feedbacks:
    calculator.learn_from_feedback(
        feedback['car'],
        feedback['actual'],
        feedback['predicted']
    )
    print(f"ุจุงุฒุฎูุฑุฏ ุซุจุช ุดุฏ: ุฎุทุง = {abs(feedback['actual'] - feedback['predicted']):,.0f}")
```

## ๐ ูุธุงุฑุช ู ุนููฺฉุฑุฏ

### ุจุฑุฑุณ ูุถุนุช:
```python
info = calculator.get_ml_info()

print(f"ูุฏู ููุฌูุฏ: {info.get('model_exists', False)}")
print(f"ุชุนุฏุงุฏ ูฺฺฏโูุง: {info.get('features_count', 0)}")
print(f"ุฏุงุฏูโูุง ุงุฏฺฏุฑ: {info.get('learning_data_count', 0)}")

if 'last_performance' in info:
    perf = info['last_performance']
    print(f"ุฏูุช ูุฏู (Rยฒ): {perf['r2']:.3f}")
    print(f"ูุงูฺฏู ุฎุทุง: {perf['mae']:,.0f} ุชููุงู")
```

### ูุงูโูุง ุงุฌุงุฏ ุดุฏู:
- `ml_price_model.joblib` - ูุฏู ุขููุฒุด ุฏุฏู
- `label_encoders.joblib` - ุฑูุฒฺฏุฐุงุฑูุง ูุชุบุฑูุง ฺฉู
- `learning_data.json` - ุฏุงุฏูโูุง ุจุงุฒุฎูุฑุฏ
- `model_performance.json` - ุชุงุฑุฎฺู ุนููฺฉุฑุฏ

## ๐ง ุชุณุช ุณุณุชู

### ุงุฌุฑุง ุชุณุช ฺฉุงูู:
```bash
python test_ml_system.py
```

### ุฎุฑูุฌ ููุฑุฏ ุงูุชุธุงุฑ:
```
๐งช ุดุฑูุน ุชุณุช ุณุณุชู ุงุฏฺฏุฑ ูุงุดู
๐ค ุณุณุชู ุงุฏฺฏุฑ ูุงุดู ูุนุงู ุดุฏ
๐ ุงุทูุงุนุงุช ุณุณุชู ML:
๐ ูุงู ุขููุฒุด ุงูุช ุดุฏ: unified_car_price_analysis.xlsx
๐ค ุดุฑูุน ุขููุฒุด ูุฏู...
๐ ุนููฺฉุฑุฏ ูุฏู:
   MAE: 45,230,000 ุชููุงู
   Rยฒ: 0.847
โ ูุฏู ML ุจุง ููููุช ุขููุฒุด ุฏุงุฏู ุดุฏ
๐ฎ ุชุณุช ูพุดโุจู ููุช...
๐ค ML ูพุดโุจู: 245,000,000 | ูพุงู: 250,000,000 | ููุง: 248,500,000
๐ ุชุณุช ุงุฏฺฏุฑ ุงุฒ ุจุงุฒุฎูุฑุฏ...
๐ ุจุงุฒุฎูุฑุฏ ุซุจุช ุดุฏ: ูุงูุน=240,000,000, ูพุดโุจู=248,500,000
โ ุชุณุช ุณุณุชู ML ฺฉุงูู ุดุฏ!
```

## โ๏ธ ูฺฉุงุช ููู

### ุงูุฒุงูุงุช:
- **Python 3.8+**
- **scikit-learn >= 1.3.0**
- **joblib >= 1.3.0**
- **ุญุฏุงูู 10 ููููู** ุจุฑุง ุขููุฒุด

### ุจูููโุณุงุฒ:
- **ุฏุงุฏูโูุง ุจุดุชุฑ = ุฏูุช ุจุงูุงุชุฑ**
- **ุจุงุฒุฎูุฑุฏ ููุธู = ุงุฏฺฏุฑ ุจูุชุฑ**
- **ุชููุน ุฏุงุฏูโูุง = ุนููฺฉุฑุฏ ุจูุชุฑ**

### ูุญุฏูุฏุชโูุง:
- ูุงุฒ ุจู ุฏุงุฏูโูุง ฺฉุงู ุจุฑุง ุขููุฒุด
- ุนููฺฉุฑุฏ ุจุณุชฺฏ ุจู ฺฉูุช ุฏุงุฏูโูุง ุฏุงุฑุฏ
- ูุงุฒ ุจู ุจุงุฒุฎูุฑุฏ ููุธู ุจุฑุง ุจูุจูุฏ

## ๐ ูุฒุงุง ุณุณุชู

### ๐ฏ ุฏูุช ุจุงูุงุชุฑ:
- ุชุฑฺฉุจ ML + ุฑูุดโูุง ุณูุช
- ุงุฏฺฏุฑ ุงุฒ ุงูฺฏููุง ูพฺุฏู
- ุชุทุจู ุจุง ุดุฑุงุท ุจุงุฒุงุฑ

### ๐ ุฎูุฏุจูุจูุฏ:
- ุงุฏฺฏุฑ ุงุฒ ุจุงุฒุฎูุฑุฏ
- ุขููุฒุด ูุฌุฏุฏ ุฎูุฏฺฉุงุฑ
- ุชุทุจู ุจุง ุชุบุฑุงุช

### ๐ ุดูุงูุช:
- ููุงุด ุฏูุช ูุฏู
- ููุงุณู ุจุง ุฑูุด ูพุงู
- ุขูุงุฑ ุนููฺฉุฑุฏ

### ๐ก๏ธ ูุงุจูุช ุงุทููุงู:
- Fallback ุจู ุฑูุด ูพุงู
- ูุฏุฑุช ุฎุทุง
- ุฐุฎุฑู ุฎูุฏฺฉุงุฑ

---

**๐ ุจุง ุงู ุณุณุชูุ ููุชโฺฏุฐุงุฑ ุฎูุฏุฑู ููุดููุฏุชุฑุ ุฏููโุชุฑ ู ูุงุจู ุงุนุชูุงุฏุชุฑ ูโุดูุฏ!**